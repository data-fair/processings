{
  "$id": "https://github.com/data-fair/processings/permission",
  "x-exports": [
    "types",
    "validate"
  ],
  "title": "permission",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "profile", "target"
  ],
  "properties": {
    "profile": {
      "type": "string",
      "title": "Profil",
      "default": "read",
      "enum": [
        "read",
        "exec"
      ]
    },
    "target": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "userEmail",
            "partner"
          ]
        },
        "email": {
          "type": "string",
          "title": "Email"
        },
        "organization": {
          "type": "object",
          "title": "Organisation",
          "additionalProperties": true,
          "x-fromUrl": "{context.directoryUrl}/api/organizations/{context.owner.id}",
          "x-itemsProp": "partners",
          "x-itemKey": "id",
          "x-itemTitle": "name",
          "properties": {
            "id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            }
          }
        },
        "roles": {
          "type": "array",
          "title": "RÃ´les",
          "default": ["admin"],
          "items": {
            "type": "string",
            "enum": [
              "admin",
              "contrib",
              "user"
            ]
          }
        }
      }
    }
  }
}